Для систем Linux доступны десятки различных типов серверов. Большинство серверов обслуживают данные удаленных клиентов, но есть и такие, которые обслуживают локальную систему (например, те, что собирают сообщения журнала или запускают задачи обслуживания в установленное время с помощью функции _cron_). Многие серверы представлены процессами, которые непрерывно работают в фоновом режиме и отвечают на поступающие к ним запросы. Такие процессы называют _демонами_  
> Сетево́й протоко́л — набор правил и действий (очерёдности действий), позволяющий осуществлять соединение и обмен данными между двумя и более включёнными в сеть устройствами.  
  
Большая часть инструментов удаленного администирования серверов построенна с помощью сетевого протокола _Secure Shell (SSH)_.  
Для защиты служб применяются такие инструменты, как **iptables** и **firewalld** (инструменты брандмауэра), а также Security Enchanced Linux (ограничивает ресурсы, к которым служба может получить доступ из локальной сети)  
> Брандмауэр — это защитный экран между глобальным интернетом и локальной компьютерной сетью организации. Он выполняет функцию проверки и фильтрации данных, поступающих из интернета. В зависимости от настроек брандмауэр может пропустить их или заблокировать (например, если обнаружит «червей», вирусы и хакерскую атаку).  
Группы пакетов иногда называют _коллекцией пакетов_  
Типы серверных пакетов в Fedora и пакеты, доступные в каждой категории, таковы:
* Сервер ведения логов;  
* Сервер печати;  
* Веб-сервер;  
* Сервер FTP (протокол передачи файлов);  
* Файловый сервер для Windows;  
* Файловый сервер NFS;  
* Почтовый сервер;  
* Сервер каталогов;  
* Сервер DNS;  
* Сервер NTP;  
* Сервер SQL.  
  
Веб сервер Apache (пакет httpd или apache2) - это программное обеспечение, которое чаще всего используется для обслуживания веб-страниц (HTTP-данных)  
Сервер Samba позволяет системе Linux выступать в качестве сервера файлов и печати для Windows  
Сетевая файловая система (Network File System-NFS) - это стандартная функция Linux и UNIX, которая предоставляет общие каталоги другим системам по сети  
Большинство пакетов серверного программного обеспечения устанавливаются с настройками по умолчанию, которые больше ориентированны на безопасность, чем на немедленное и полное применение. Поэтому важно уметь настроить сервер под свои нужды. Традиционно при настройке сервера существует первичный (основной) файл конфигурации. Иногда появляется связанный каталог конфигурации, в котором файлы, заканчивающиеся на _.conf_, добавляют в основной файл конфигурации. Таким образом, дополнительные пакеты могут иметь информацию о своей конфигурации, включенную в сервер, и при этом пакет не будет запускать сценарии редактирования основного файла сервера.  

Большинство служб, устанавливаемых в Linux, настроены на запуск при загрузке системы, а затем на непрерывную обработку запросов, пока система не будет выключена. Существует два основных средства для управления службами - systemd и скрипты SystemVinit. Большая часть служб реализуется с помощью демон-процессов.  

Демоны часто выполняются от имени пользователей и групп, отличных от суперпользователя (например, демон httpd работает как пользователь apache), для того, чтобы при взломе этих демонов не было доступа к файлам за пределами этих служб.  

Чаще всего у службы есть свой файл конфигурации для демона, который хранится в каталоге /etc/sysconfig. Он отличается от файла конфигурации службы тем, что его задача заключается в передаче аргументов серверному процессу, а не в настройке службы.  
Служба брандмауэра iptables может отслеживать каждый пакет, поступающий от сетевых интерфейсов компьютера и в обратную сторону, и реагировать на него. С помощью брандмауэра iptables можно отбросить или отклонить каждый пакет, запрашивающий службы в системе, за исключением подключенных. Кроме того, можно указать брандмауэру iptables разрешать запросы на обслуживание только с определенных ip адресов. В последних версиях дистрибутивов RHEL и Fedora служба firewalld добавила больше функциональности в работу брандмауэров Linux.  

Fedora, RHEL и другие дистрибутивы поставляются с подключенной функцией SELinux в принудительном режиме. Хотя режим по умолчанию не оказывает большого влияния на большинство приложений, он значительно влияет на большую часть основных служб. Основная функция SELinux заключается в защите содержимого системы Linux от процессов, запущенных в системе. Другими словами, SELinux гарантирует, что веб-сервер и другие сервера могут получить доступ только к ограниченному набору файлов в системе (определяется содержимым файлов), и разрешает лишь ограниченный набор функций  

С помощью службы rsyslog (демон rsyslogd) можно собирать важную информацию и ошибки в файлы журналов множества различных служб. По умолчанию в дистрибутиве RHEL сообщения журнала из приложений направляются в файлы журнала в каталоге /var/log  
Инструменты _Secure Shell_ - это набор клиентских и серверных приложений, которые позволяют реализовывать базовую связь между клиентскими компьютерами и сервером Linux.  

Команда systemctl в Linux — это утилита, которая управляет системой systemd и менеджером служб и взаимодействует с ней.  
Такие команды, как scp и rsync, могут копировать один или несколько файлов одновременно между клиентскими или серверными системами SSH.  
Команда sftp опредоставляет интерфейс, подобный FTP-серверу, для обхода удаленной файловой системы, а также получения файлов их их размещения между системами в интерактивном режиме.  

Используйте команду _ssh_ с другого компьютера Linux, чтобы проверить, сможете ли вы войти в систему Linux, на которой работает служба _sshd_  
_systemctl status .._ - проверка статуса службы  
_systemctl start .._ - запуск службы для текущего сеанса системы  
_systemctl enable .._ - запуск службы для текущего и всех последующих сеансов системы  
Измените настройки брандмауэра, чтобы разрешить пакету _openssh-client_ доступr к порту 22.  
Любые дальнейшие настройки действия демона sshd обрабатываются в файле /etc/ssh/shhd_config  
  
_ssh username@ip(localhost)_ - вход в удаленную систему с работающей службой _sshd_  
>Ключ SSH — это учетные данные доступа в протоколе SSH. Его функция аналогична функциям имен пользователей и паролей, но ключи в основном используются для автоматизированных процессов и для реализации единого входа системными администраторами и опытными пользователями.  
  
После прерывания удаленного подключения к системе в вашем локальном системном подкаталоге появится файл ~.ssh/knows_hosts. Он содержит открытый ключ удаленного хоста вместе с его IP-адресом. Открытый и закрытый ключи вашего сервера находятся в каталоге /etc/ssh.  
> При следующих подключениях этого пользователя он будет аутентицицироваться с помозью сохраненного ключа. Если сервер изменит ключ (переустановка системы, изменение ключей), попытки подключения к системе приведут к отказу в соединении и выводу предупреждения о том, что вы можете подвергнуться атаке. Если ключ действительно изменился, то чтобы снова получить доступ по ssh к этому адресу, просто удалите ключ хоста (всю строку) из файла known_hosts и скопируйте новый ключ  
  
Помимо входа в удаленную оболочку, команда ssh может использоваться для удаленного выполенения команды и возврата выходных данных в локальную систему. Если вы запускаете команду удаленного выполнения ssh, которая включает параметры или аргументы, обязательно заключите всю удаленную командную строку в кавычки. Имейте в виду, что, если вы ссылаетесь на файлы или каталоги в удаленных командах, относительные пути интерпретируются по отношению к домашнему каталогу пользователя.  
Другой тип удаленного выполнения, который можно реализовать с помощью ssh, - это _переадрессация X11_ (X Window System 11). Если на сервере включена эта переадресация (в файле /eyc/sshd/sshd_config установлен параметр **X11Forwarding yes**), можете безопасно запускать графические приложения с сервера по SSH-соединению с помощью команды ssh c параметром -X)  
Команда scp похожа на устаревшую UNIX-команду rcp для копирования файлов в системы Linux и из них, только в данном случае все коммуникации зашифрованны. Эта команда может применяться для резервного копирования файлов и каталог по сети. Для передачи и загрузки файлов обязательно после ip адресса нужно указать двоеточие (:)  
Особенности работы команды scp:  
* Потеря атрибутов  
* Потеря символических ссылок  
* Копирование повторяется без необходимости  
  
Команда rsync - лучший инструмент резервного копирования по сети, посколько не имеет перечисленных недостатков команды scp. Параметр --delete используется длс создания зеркальных копий каталог на сервере и локальном компьютере.  
Если вы не знаете, что хотите скопировать в удаленную систему или из нее, примените команду sftp для создания интерактивного сеанса в стиле FTP через службу SSH. C помощью этой команды можно подключиться к удаленной системе через службу SSH, изменить каталоги, перечислить содержимое каталога, а затем (при наличии соотв. прав) получить нужные файлы и поместить их на сервер. Несмотря на свое название, команда _sftp_ не имеет ничего общего с протоколом FTP и не использует FTP серверы. Она просто применяет стиль взаимодействия FTP между клиентом и сервером sshd. После подключения к хосту, можно начать интерактивный сеанс. Вы можете использовать команды _get_ и _put_ для загрузки и скачивания файлов. Так как применение команды sftp происходит через службу SSH, то это лучшая альтернатива для того, чтобы позволить пользователям копировать файлы в интерактивном режиме из системы (протокол FTP передает имена пользователей, пароли и данные в виде открытого текста, что небезопасно)  