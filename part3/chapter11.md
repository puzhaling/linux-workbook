_Учетные записи пользователей_ поддерживают границы между пользователемями системы и процессами, выполняемыми в системах. _Группы_ - это способ назначения прав в системе, которые могут быть определены одинаково для нескольких пользователей одновременно  
  
В большинстве систем Linux учетные записи пользователей можно добавлять несколькими способами. Система Fedora и RHEL предлагают программу Cockpit. C помощью Cockpit можно создать только пароль, который соответсвует требованиям. Для добавления не соответствующего критериям пароля, примените команду _useradd_. См. ниже)  
  
Нажмите клавишу _Lock Account_ при создании аккаунта. В таком случае никто не сможет войти в данную учетную запись до тех пор, пока вы не снимете флажок или не измените эту информацию в файле _passwd_  
  
Запись о новой учетной записи пользователя добавляется в файл /etc/passwd, а о новой учетной записи группы - в файл /etc/group. По умолчанию можно установить флажки System Administrator, предоставляя права суперпользователя и добавляя его в группу **wheel**. Чтобы заставить пользователя изменить свой пароль при следующем входе в систему, выберете пункт _Force Change_. _Autorized Public SSH Keys_ - Если у вас есть открытый SSH-ключ для пользователя, можете выбрать знак плюс (+), вставить этот ключ в текстовое поле и начать кнопку __Add__. Пользователь с соответствующим закрытым ключом с помощью него может войти в учетную запись пользователя через SSH, не вводя пароль  
  
Самый простой способ добавление нового пользователя из командной строки - команда _useradd_, в которой единственный обязательным параметром является логин нового пользователя. Вся дополнительная информация, если не указана явно, записывается по умолчанию (иначе используются параметры, после которых следует значения параметра).  
* -с "_комментарий_" - комментарий к новой учетной записи (имя пользователя)  
* -d _домашний каталог_ - назначение домашнего каталога (абсолютный путь)  
* -D - сохранение значения параметров в качестве параметров по умолчанию для всех новых пользователей  
* -е "_дата устаревания_" - ГГГГ-ММ-ДД (дата блокировки)  
* -f -1 - _(-1) -_ количество дней, которые должны пройти с момента устаревания пароля до блокирования учетной записи (-1 - отключение этого параметра)  
* -g _группа_ - устанавливает основную группу (она уже должна существовать в файле /etc/group). Без этого параметра создастся новая группа, которая совпадает с именем пользователя  
> Основная группа отличается от обычных тем, что все файлы в домашнем каталоге пользователя имеют эту группу, и при ее смене, группа этих каталогов тоже поменяется.  
* -G _список групп_ - добавляет нового пользователя в предоставленный список дополнительных групп, разделенных запятыми (-aG - для добавления к существующему списку групп (ПРИ ИИСПОЛЬЗОВАНИИ С USERMOD))  
* -k _skel_dir_ - устанавливает каталог с шаблонами, который содердит файлы для копирования в домашний каталог при его создании (по умолчанию применяется /etc/skel) МОЖНО ИСПОЛЬЗОВАТЬ ТОЛЬКО В СОЧЕТАНИИ С ПАРАМЕТРОМ -m  
* -m - автоматически создает домашний каталог пользователя и копирует в него файлы из каталога шаблонов ^^^  
* -M - не создает домашний каталог для нового пользователя  
* -о - использует _-u uid_ для создания учетной записи пользователя с тем же UID, что и у другого пользователя (после этого несколько пользователей обладать правами на один и тот же набор файлов и каталогов)  
* -p _пароль_ - добавляет пароль для новой учетной записи. Пароль должен быть зашифрованным (введите openssl _пароль_ для генерации зашифрованного пароля MD5)  
* -s _оболочка_ - указывает командную оболочку, которая будет использоваться для этой учетной записи (абсолютный путь)  
* -u _id_пользователя_ - укажите идентификатор пользователя для учетной записи. Без этого параметра по умолчанию будет применен следующий доступный ID (1000,1001,...)  
  
> Запуск команды passwd пользволяет добавить короткие или пустые пароли, которые обычные пользователи не могут добавить сами.  
  
В файлах /etc/login.defs, /etc/default/useradd хранятся значения по умолчанию, используемые при создании учетных записей. В файл /etc/passwd помещается информация о новом пользователе, а в /etc/shadow - зашифрованный пароль. Файл /etc/group содержит информацию о различных группах в системе Linux и пользователях в них. Группы позволяют нескольким пользователям совместно получать доступ к одним и тем же файлам.  
> По умолчанию, каждый пользователь добавляется в собственную группу, начиная с 1000 и со следующего доступного GID (Group Idenity Number)  
  
_SYS_ - этот префикс в файле конфигурации учетных записей отвечает за суперпользователей.  
  
Список параметров можно посмотреть с помощью команды: _useradd -D_. C параметром _-D_ можно применять только следующие пять параметров: -b, -e, -f, -g, -s  
> -b _домашний каталог_ - задает каталог по умолчанию, в котором создаются домашние каталоги пользователей. Обычно это каталог **/home**  
  
!!! При задание значений по умолчанию, параметр -D должен находится впереди.  
  
Команда usermod позволяет изменять параметры существующей учетной записи. Для нее доступны многие параметры, которые используются с useradd. Из нового:  
* -l - изменяет имя учетной записи  
* -L - блокирует учетную запись, поставив (!) в начале зашифрованного пароля в файле /etc/shadow. Данное действие блокирует учетную запись, при этом не трогая пароль.  
* -m - доступен только совместно с параметром -d. Копирует содержимое домашнего каталога пользователя в новый каталог  
* -о - работает только с -u uid и снимает ограничение на уникальность идентификатора пользователя  
* -U - снимает блокировку с учетной записи пользователя, удалив (!) в начале зашифрованного пароля  

Синтаксис: _usermod [options] user_  
  
Команда _userdel_ используется для удаления пользователей. С параметром _-r_ удаление происходит с домашним каталогом пользователя, что не происходит по умолчанию  
  
Учетные записи групп полезны, если нужно поделиться набором файлов с несколькими пользователями. Первичная (основная) группа обозначается номером в третьем поле каждой записи в файле /etc/passwd. Любой файл, назначенный группе, доступен пользователю с правами, установленнымы для группы (в зависимости от того, у кого из пользователей наибольший доступ (владелец)). Команда _newgrp_ используйте для перехода между группами, чтобы временно сделать какую то из групп основной. Интересно, что с помощью этой команды можно временно зайти в другую группу, предварительно попросив установить системного администратора установить пустой пароль для группы с помощью команды _gpasswd_. Кстати, только пользователям, не состоящим в группе, нужно вводить пароль при входе в нее.  
  
Как суперпользователь, создать новую группу можно с помощью команды _groupadd_. Номера UID и GID могут использоваться параллельно. Для изменения параметров существующей группы используйте команду groupmod  
  
Функция _список контроля доступа (ACL - Access Control List)_ была создана для того, чтобы обычные пользователи могли выборочно делиться своими файлами и каталогами с другими пользователями и группами  

# **ACL reserved [-]**